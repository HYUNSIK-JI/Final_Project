{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/navbar.css' %}">
{% endblock css %}

<div class="navbar">
  <!-- 로고 -->
  <div class="logo">
    <a class="navbar-brand" href="{% url 'main' %}">
      로고
    </a>
  </div> <!-- logo -->

  <!-- 카테고리 -->
  <div class="cate">
    <a class="a-cate nav-link" aria-current="page" href="{% url 'articles:index' %}">질문</a>
    <a class="a-cate nav-link" href="{% url 'gathering:gathering-list' %}">모임</a>
    <a class="a-cate nav-link" href="{% url 'calendars:index' %}">달력</a>
    <a class="a-cate nav-link" href="{% url 'free:index' %}">자유</a>
  </div> <!-- cate -->


  <!-- 회원 정보 -->
  <div class="cate2">
    <div class="user-info">
      {% if request.user.is_authenticated %}
      <a  class="user-cate nav-link" href="{% url 'accounts:detail' request.user.pk %}">Hi, {{ request.user.nickname }}</a>
      <a class="user-cate nav-link" href="{% url 'accounts:logout' %}"> 로그아웃</a>
      {% else %}
      <a class="user-cate nav-link" href="{% url 'accounts:login' %}">로그인</a>
      <a class="user-cate nav-link" href="{% url 'accounts:signup' %}">회원가입</a>
      {% endif %}
    </div> <!-- user-info -->


    <!-- 알람 -->
    <div class="alarm">
      <a class="alarm-cate nav-link" href="#" style="position:relative">
        알람

        <!-- 실제 알람 내용-->
        <div class="my-nav-window" id="nav-window">
          <div class="messages">
            {% if count == 0 %}
            <p class="no-message">알림이 없습니다.</p>
            {% endif %}
            <!-- % if count == 0 % -->
            {% for n in request.user.notification_set.all %}
            {% if n.check == False %}
            <div class="new-messages">
              <a href="{% url 'accounts:message' n.pk %}">
                {{n.message}}</a>
              <hr>
            </div>
            {% endif %}
            <!-- % if n.check == False % -->
            {% endfor %}
            <!-- % for n in request.user.notification_set.all % -->
          </div> <!-- messages -->
        </div> <!-- my-nav-window -->

      </a> <!-- nav link -->
    </div> <!-- alarm -->

    <!-- 공지 -->
    <div class="notice">
      <a class="nav-link" href="{% url 'notices:index' %}">공지</a>
    </div> <!-- notice -->
  </div> <!-- cate2 -->
</div> <!-- navbar -->